@inherits LayoutComponentBase

@if (_isLoaded) {
    <div class="page">
        <div class="sidebar">
            <NavMenu/>
        </div>

        <main>
            <div class="top-row px-4">
                @* <PortableDevTools/> *@
                @* <ResourceUsage/> *@
                <a style="color: #ccc; text-decoration: underline" href="https://cgit.rory.gay/matrix/tools/MatrixUtils.git/" target="_blank">Git</a>
                <a style="color: #ccc; text-decoration: underline" href="https://matrix.to/#/%23mru%3Arory.gay?via=rory.gay&via=matrix.org&via=feline.support"
                   target="_blank">Matrix</a>
            </div>

            <article class="Content px-4">
                @Body
            </article>


        </main>
    </div>
}
else {
    <p>Attaching session store, please wait...</p>
}

<UpdateAvailableDetector/>

@code {

    private bool _isLoaded;

    protected override async Task OnInitializedAsync() {
        await sessionStore.EnsureInitialized();
        _isLoaded = true;
    }

}