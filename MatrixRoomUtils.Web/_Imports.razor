@using System.Net.Http
@using System.Net.Http.Json
@using Blazored.LocalStorage
@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.Web.Virtualization
@using Microsoft.AspNetCore.Components.WebAssembly.Http
@using Microsoft.JSInterop
@using MatrixRoomUtils.Web
@using MatrixRoomUtils.Web.Classes
@using MatrixRoomUtils.Web.Shared

@inject ILocalStorageService LocalStorage

@code
{
    
    protected override async Task OnInitializedAsync()
    {
        if (!RuntimeCache.WasLoaded)
        {
            await LocalStorageWrapper.LoadFromLocalStorage(LocalStorage);
            Console.WriteLine("Loaded from local storage");
            StateHasChanged();
        }
    }
}
