@using System.Net.Http
@using System.Net.Http.Json
@using Blazored.LocalStorage
@using MatrixRoomUtils.Core
@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.Web.Virtualization
@using Microsoft.AspNetCore.Components.WebAssembly.Http
@using Microsoft.JSInterop
@using MatrixRoomUtils.Web
@using MatrixRoomUtils.Web.Classes
@using MatrixRoomUtils.Web.Shared
@using MatrixRoomUtils.Core.RoomTypes
@using MatrixRoomUtils.Core.Extensions

@using LinkButton = MatrixRoomUtils.Web.Shared.SimpleComponents.LinkButton



@inject ILocalStorageService LocalStorage
@inject NavigationManager NavigationManager

@code
{
    protected override async Task OnInitializedAsync() {
        if (!RuntimeCache.WasLoaded) {
            await LocalStorageWrapper.LoadFromLocalStorage(LocalStorage);
            Console.WriteLine("Loaded from local storage");
            StateHasChanged();
        }
    }
}